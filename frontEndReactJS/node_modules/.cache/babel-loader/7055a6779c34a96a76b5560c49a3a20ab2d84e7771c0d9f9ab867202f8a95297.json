{"ast":null,"code":"// import { useGoogleLogin} from \"@react-oauth/google\";\n// import { useNavigate } from \"react-router-dom\";\n// import GoogleButton from \"react-google-button\";\n\n// export const Login = () => {\n//   const navigate = useNavigate()\n//   const login = useGoogleLogin({\n//     onSuccess: async (codeResponse) => {\n//       console.log(\"codeResponse: \", codeResponse)\n//       const user = {\n//         backend: \"google-oauth2\",\n//         client_id: \"iBzvk3Uq6XssKDLrEhGMqYlsVKMmeHucErk1GjqF\",\n//         client_secret:\n//           \"vxW4H3xKXwNL6z3bXTheBEsQjgP9upCgglItvvPr5R3CWl8TaJZG1gl9Ae5RgqPbLQ51N8csSVgcWE88TETAqhpRXFwcvEBpAr6dvi34yOOfAnbQc8ha7aa6yOiYMjgn\",\n//         grant_type: \"convert_token\",\n//         token: codeResponse.access_token,\n//       };\n\n//       try{\n//         const userData = await fetch(\n//           `https://www.googleapis.com/oauth2/v3/userinfo?access_token=${codeResponse.access_token}`,\n//           {\n//             headers: {\n//               Authorization: `Bearer ${codeResponse.access_token}`,\n//               Accept: \"application/json\",\n//             },\n//           }\n//         );\n\n//         const userInfo = await userData.json();\n//         console.log(userInfo);\n//       } catch (error) {\n//         console.log(error)\n//       }\n\n//       try{\n//           const response = await fetch(\"http://127.0.0.1:8000/api-auth/convert-token\", {\n//             method: \"POST\",\n//             headers: {\n//               \"Content-Type\": \"application/json\",\n//             },\n//             withCredential: true,\n//             body: JSON.stringify(user),\n//           });\n//           const data = await response.json();\n//           console.log(\"data: \", data);\n//           if (response.status === 200) {\n//             console.log(\"loggedin\");\n//             // localStorage.setItem(\"access_token\", data.access_token)\n//             navigate(\"/\");\n//           } else {\n//             console.log(response.status);\n//             console.log(\"there was a server issue\");\n//             alert(\"something went wrong \" + response.status);\n//           }\n//       } catch (error){\n//         console.log(error)\n//       }\n\n//     },\n//     flow: \"implicit\",\n\n//   });\n\n//   return (\n//     <div className=\"Auth-form-container\">\n//       <button onClick={() => login()}>Google Login</button>\n//     </div>\n//   );\n// };","map":{"version":3,"names":[],"sources":["C:/Users/HP/Desktop/drfBacktest/frontend/src/views/Login.js"],"sourcesContent":["// import { useGoogleLogin} from \"@react-oauth/google\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import GoogleButton from \"react-google-button\";\r\n\r\n\r\n// export const Login = () => {\r\n//   const navigate = useNavigate()\r\n//   const login = useGoogleLogin({\r\n//     onSuccess: async (codeResponse) => {\r\n//       console.log(\"codeResponse: \", codeResponse)\r\n//       const user = {\r\n//         backend: \"google-oauth2\",\r\n//         client_id: \"iBzvk3Uq6XssKDLrEhGMqYlsVKMmeHucErk1GjqF\",\r\n//         client_secret:\r\n//           \"vxW4H3xKXwNL6z3bXTheBEsQjgP9upCgglItvvPr5R3CWl8TaJZG1gl9Ae5RgqPbLQ51N8csSVgcWE88TETAqhpRXFwcvEBpAr6dvi34yOOfAnbQc8ha7aa6yOiYMjgn\",\r\n//         grant_type: \"convert_token\",\r\n//         token: codeResponse.access_token,\r\n//       };\r\n\r\n//       try{\r\n//         const userData = await fetch(\r\n//           `https://www.googleapis.com/oauth2/v3/userinfo?access_token=${codeResponse.access_token}`,\r\n//           {\r\n//             headers: {\r\n//               Authorization: `Bearer ${codeResponse.access_token}`,\r\n//               Accept: \"application/json\",\r\n//             },\r\n//           }\r\n//         );\r\n\r\n//         const userInfo = await userData.json();\r\n//         console.log(userInfo);\r\n//       } catch (error) {\r\n//         console.log(error)\r\n//       }\r\n\r\n//       try{\r\n//           const response = await fetch(\"http://127.0.0.1:8000/api-auth/convert-token\", {\r\n//             method: \"POST\",\r\n//             headers: {\r\n//               \"Content-Type\": \"application/json\",\r\n//             },\r\n//             withCredential: true,\r\n//             body: JSON.stringify(user),\r\n//           });\r\n//           const data = await response.json();\r\n//           console.log(\"data: \", data);\r\n//           if (response.status === 200) {\r\n//             console.log(\"loggedin\");\r\n//             // localStorage.setItem(\"access_token\", data.access_token)\r\n//             navigate(\"/\");\r\n//           } else {\r\n//             console.log(response.status);\r\n//             console.log(\"there was a server issue\");\r\n//             alert(\"something went wrong \" + response.status);\r\n//           }\r\n//       } catch (error){\r\n//         console.log(error)\r\n//       }\r\n      \r\n//     },\r\n//     flow: \"implicit\",\r\n\r\n//   });\r\n\r\n//   return (\r\n//     <div className=\"Auth-form-container\">\r\n//       <button onClick={() => login()}>Google Login</button>\r\n//     </div>\r\n//   );\r\n// };\r\n"],"mappings":"AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}